<nav id="topNavbar" class="navbar navbar-expand-sm navbar-dark bg-gowest-dark">
    <a id="navbar-brand" class="navbar-brand" href="index.html">
		<img class="navbar-brand-image" src="img/logo.png">
		<span class="navbar-brand-name">GoWest</span>
	</a>
    <ul id="navbarVisit" class="navbar-nav navbar-nav-right hidden">
        <li class="nav-item">
          <a class="btn btn-gowest" id="navbarCartBtn" href="cart.html" type="button">Carrito</a>
        </li>
        <li class="nav-item">
          <a class="btn btn-gowest" href="signup.html" type="button">Registrarse</a>
        </li>
		<li class="nav-item">
			<button class="btn btn-gowest" data-toggle="modal" data-target="#loginModal">Ingresar</button>
		</li>
    </ul>
	<ul id="navbarClient" class="navbar-nav navbar-nav-right hidden">
		<li class="nav-item">
			<span class="userWelcome"></span>
		</li>
        <li class="nav-item">
          <a class="btn btn-gowest" id="navbarCartBtn" href="cart.html" type="button">Carrito</a>
        </li>
        <li class="nav-item">
          <a class="btn btn-gowest" href="account.html" type="button">Cuenta</a>
        </li>
        <li class="nav-item">
          <a class="btn btn-gowest" href="index.html" type="button">
            <span class="icon icon-signoff"></span>
          </a>
        </li>
    </ul>
    <ul id="navbarAdmin" class="navbar-nav navbar-nav-right hidden">
		<li class="nav-item">
			<span class="userWelcome"></span>
		</li>
		<li class="nav-item">
			<a class="btn btn-gowest" href="index.html" type="button">
				<span class="icon icon-signoff"></span>
			</a>
		</li>
	</ul>
</nav>
<ihtml src="loginModal.html"></ihtml>
<script>
    /*Determines which navbar to load depending on whether a "u" parameter (for "user") exists in the url
      if u="admin@admin", the admin view is loaded instead"*/
    var url = new URL(window.location.href);
    var urlParams = url.searchParams;
    var navToShow="";
    if(window.location.pathname=="/adminIndex.html"){
      navToShow="navbarAdmin";
      get("navbar-brand").setAttribute("href","adminIndex.html")
    } else if(urlParams.get("u")!=null){
      if(urlParams.get("u")=="admin@admin"){
        navToShow="navbarAdmin";
        get("navbar-brand").setAttribute("href","adminIndex.html")
      } else
      navToShow="navbarClient"
    }
    else navToShow="navbarVisit";
    document.getElementById(navToShow).classList.remove("hidden");
    //remove hidden navbar elements
    var toRemove=[];
    for(var nav of document.getElementsByClassName("navbar-nav hidden")){toRemove.push(nav)}
    for(var nav of toRemove){nav.remove();}
    if(urlParams.get("n"))
      for(var welcome of document.getElementsByClassName("userWelcome")){
        welcome.innerText=urlParams.get("n");
      }
</script>